import{a as C,b as N}from"https://st-p.rmcdn1.net/9abcafdf/dist/c/c-CO6KMLVU.js";import{a as M,b as X}from"https://st-p.rmcdn1.net/9abcafdf/dist/c/c-XZJ2VYXB.js";import{s as B,u as Y}from"https://st-p.rmcdn1.net/9abcafdf/dist/c/c-7GZKL2AQ.js";import{C as T,D as W,F as R}from"https://st-p.rmcdn1.net/9abcafdf/dist/c/c-QLZFYGE5.js";import{a as L}from"https://st-p.rmcdn1.net/9abcafdf/dist/c/c-HQKWHWGO.js";import{c as j}from"https://st-p.rmcdn1.net/9abcafdf/dist/c/c-PEZMTDKX.js";import{a as y,b}from"https://st-p.rmcdn1.net/9abcafdf/dist/c/c-ZA64MI4Y.js";import{a as f,d as I}from"https://st-p.rmcdn1.net/9abcafdf/dist/c/c-4XCUMATV.js";function U(t){P.push(t)===1&&requestAnimationFrame(H)}var P,S,H,k,O=f(()=>{"use strict";P=[],S=new MessageChannel,H=function(){this.postMessage(void 0)}.bind(S.port2);S.port1.onmessage=function(){var t=P;P=[];for(var e=performance.now(),i=0;i<t.length;i++)t[i](e)},S=null;k=U});function m(){return!y()&&G in window}function V(){m()&&(window.DEBUG||(window.DEBUG={}),D(),B())}function A(){if(m())return window.DEBUG||V(),window.DEBUG}var G,_=f(()=>{"use strict";b();E();Y();G="____READYMAG_DEBUG_MODE_ENABLED"});function q(t,e){return t===e?t:`${t}:${e}`}function v({category:t="none",id:e,startTime:i,actualDuration:o,phase:r,args:s={}}){M(()=>{let g=q(t,e);w.push({name:g,cat:t,ph:"X",ts:i*1e3,dur:o*1e3,pid:1,tid:1,args:{...s,phase:r}}),console.debug(`\x1B[1m[${g}]\x1B[0m ${o.toFixed(3)}ms \x1B[3m(${r})\x1B[0m`)})}function D(){let t=A();t&&(t.profiler=$)}function pt(t){return m()?W(F.Profiler,{id:t.id,onRender:(e,i,o,r,s)=>v({id:e,phase:i,actualDuration:o,startTime:s,category:t.category,args:t.args}),children:t.children}):W(T,{children:t.children})}function at(t,e,i){let o=y()||!m()?0:performance.now();return{stopProfile(){y()||!m()||k(()=>{let s=performance.now()-o;v({id:e,phase:"call",category:t,startTime:o,actualDuration:s,args:i})})}}}var F,w,$,E=f(()=>{"use strict";F=I(L());O();b();_();X();R();w=[];$={download(){let t=JSON.stringify(w),e=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(e),o=document.createElement("a");o.href=i,o.download=`readymag-profile-${Date.now()}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)},get(){return w},reset(){w=[]}}});var z,J=f(()=>{"use strict";z=(n=>(n.URL="URL",n.Page="Page",n.Email="Email",n.Phone="Phone",n.Anchor="Anchor",n.ScrollToTop="ScrollToTop",n.GoBack="GoBack",n))(z||{})});var d,ut,K=f(()=>{"use strict";N();d={sideAngles:{top:0,right:Math.PI*.5,bottom:Math.PI,left:Math.PI*1.5},calcOrientedTriangleSquare:function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},intersectsOnAxisProjection:function(t,e,i,o){let r;return t>e&&(r=t,t=e,e=r),i>o&&(r=i,i=o,o=r),t<i&&(t=i),e>o&&(e=o),t<=e},isLinesIntersects:function(t,e,i,o){return d.intersectsOnAxisProjection(t.x,e.x,i.x,o.x)&&d.intersectsOnAxisProjection(t.y,e.y,i.y,o.y)&&d.calcOrientedTriangleSquare(t,e,i)*d.calcOrientedTriangleSquare(t,e,o)<=0&&d.calcOrientedTriangleSquare(i,o,t)*d.calcOrientedTriangleSquare(i,o,e)<=0},isConvexPolygonContainsPoint:function(t,e){for(let i=0;i<t.length;i++){let o=(i+1)%t.length;if(d.calcOrientedTriangleSquare(t[i],t[o],e)<0)return!1}return!0},isConvexPolygonsIntersects:function(t,e){let i,o,r,s;for(i=0;i<t.length;i++)if(d.isConvexPolygonContainsPoint(e,t[i]))return!0;for(i=0;i<e.length;i++)if(d.isConvexPolygonContainsPoint(t,e[i]))return!0;for(i=0;i<t.length;i++)for(o=(i+1)%t.length,r=0;r<e.length;r++)if(s=(r+1)%e.length,d.isLinesIntersects(t[i],t[o],e[r],e[s]))return!0;return!1},doBoundingBoxesIntersect:function(t,e){return t&&e&&!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)},calcBoundingBoxForBlock:function(t,e,i){let o=t.getBoxData(),r=Math.sin(-(t.model.get("angle")||0)*Math.PI/180),s=Math.cos(-(t.model.get("angle")||0)*Math.PI/180),g=!!t.model.get("fixed_position"),n=t.model.get("shadow")||{x:0,y:0,blur:0};if(i&&(n.x||n.y||n.blur)){let l={height:o.h+n.blur*2,width:o.w+n.blur*2,top:o.y+n.y-n.blur,left:o.x+n.x-n.blur},h=this.getBoundingBoxOfBoxes([{width:o.w,height:o.h,left:o.x,top:o.y},l]);return this.calcBoundingBox({...h,sinAngle:r,cosAngle:s},g,e)}else return this.calcBoundingBox({height:o.h,width:o.w,top:o.y,left:o.x,sinAngle:r,cosAngle:s},g,e)},calcBoundingBox:function(t,e,i){let o=d.calcRotatedBox(t),r=o.map(x=>x.x),s=o.map(x=>x.y),g=Math.min.apply(null,r),n=Math.max.apply(null,r),l=Math.min.apply(null,s),h=Math.max.apply(null,s),p=g,a=l,c=n-g,u=h-l;return e&&(["n","c","s"].indexOf(e)>-1&&(p=t.left),["w","c","e"].indexOf(e)>-1&&(a=t.top)),i?{width:c,height:u,left:p,top:a}:{bb_width:c,bb_height:u,bb_left:p,bb_top:a}},boxToRect:function(t){return{width:t.width,height:t.height,top:t.top,bottom:t.top+t.height,left:t.left,right:t.left+t.width}},getBoundingBoxOfElements(t,e=1){let i=t.map(o=>o.parentElement?e!==1?C.getBox(o,e):o.getBoundingClientRect():{bottom:0,height:0,left:0,right:0,top:0,width:0});return d.getBoundingBoxOfBoxes(i)},getBoundingBoxOfBoxes:function(t){let e=[],i=[];for(let r of t){let s=typeof r.right<"u"?r instanceof DOMRect?r.toJSON():{...r}:d.boxToRect(r);e.push(s.left),e.push(s.right),i.push(s.top),i.push(s.bottom)}let o={top:Math.min.apply(null,i),right:Math.max.apply(null,e),bottom:Math.max.apply(null,i),left:Math.min.apply(null,e)};return o.width=o.right-o.left,o.height=o.bottom-o.top,o},getBoundingBoxOfBlocks(t=[]){let e=t.map(i=>{let o=i.getBoxData({includeBoundingBox:!0,checkFixedPosition:!0});return{width:o.bb_w,height:o.bb_h,top:o.bb_y,left:o.bb_x}});return d.getBoundingBoxOfBoxes(e)},calcRotatedBox:function(t){let e=[],i=[0,1,1,0],o=[0,0,1,1],r=t.left+t.width/2,s=t.top+t.height/2,g=t.sinAngle,n=t.cosAngle;return i.forEach((l,h)=>{let p=t.left+t.width*i[h],a=t.top+t.height*o[h],c=p-r,u=s-a;p=r+n*c+g*u,a=s+g*c-n*u,e.push({x:p,y:a})}),e},getDistance:function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},getBestPoints:function(t,e){let i=["right","left","bottom","top"],o={distance:1/0,fromPoint:{},toPoint:{}},r,s,g;for(let n=0;n<i.length;n++)for(let l=0;l<i.length;l++)s=d.getSideCenter(t,i[n]),g=d.getSideCenter(e,i[l]),r=d.getDistance(s,g),o=r<o.distance?{distance:r,fromSide:i[n],fromPoint:s,toSide:i[l],toPoint:g}:o;return o},getSideCenter:function(t,e){let i;switch(e){case"left":i={x:t.left,y:t.top+t.height/2};break;case"top":i={x:t.left+t.width/2,y:t.top};break;case"bottom":i={x:t.left+t.width/2,y:t.top+t.height};break;case"right":default:i={x:t.left+t.width,y:t.top+t.height/2};break}return i={x:(i.x-t.centerX)*t.cos-(i.y-t.centerY)*t.sin+t.centerX,y:(i.y-t.centerY)*t.cos+(i.x-t.centerX)*t.sin+t.centerY},i},getPerpendicularEnd:function(t,e,i,o){let r=i.angle+d.sideAngles[t];return{x:o*Math.sin(r)+e.x,y:-o*Math.cos(r)+e.y}},getBox:function(t){let i=(t.$el&&t.$el[0]||t.length&&t[0]||t).getBoundingClientRect().toJSON(),o=t.model?(t.model.attributes.angle||0)*Math.PI/180:0;return i={...i,angle:o,sin:Math.sin(o),cos:Math.cos(o)},i={...i,centerX:i.left+i.width/2,centerY:i.top+i.height/2},i},getResizedBoxNested:function(t,e,i,o){let r=i.width/e.width,s=i.height/e.height;return r=o==="height"?s:r,s=o==="width"?r:s,{left:(t.left-e.left)*r+i.left,top:(t.top-e.top)*s+i.top,width:t.width*r,height:t.height*s}},getResizedBoxByBB:function(t,e,i,{sin:o,cos:r}={sin:0,cos:1}){let s={left:i.left+i.width/2,top:i.top+i.height/2},g=i.width/e.width,n=i.height/e.height,l=!![0,-1,1].find(c=>Math.abs(o-c)<=1e-6),h=Math.min(g,n),{width:p,height:a}=l?{width:Math.abs(t.width*g*r+t.width*n*o),height:Math.abs(t.height*n*r+t.height*g*o)}:{width:t.width*h,height:t.height*h};return{left:s.left-p/2,top:s.top-a/2,width:p,height:a}},getBoxLimits:function(t,e){let i=t.width/t.height>1,o=i?e.minheight/t.height:e.minwidth/t.width,r=i?e.maxwidth/t.width:e.maxheight/t.height;return{minwidth:e.minwidth?Math.round(t.width*o):1,minheight:e.minheight?Math.round(t.height*o):1,maxwidth:e.maxwidth?Math.round(t.width*r):1/0,maxheight:e.maxheight?Math.round(t.height*r):1/0}},isBoxInView(t,e=.2){let i=e?e*t.height:1,o=e?e*t.width:1,r=t.height&&t.bottom>=i&&t.bottom<=window.innerHeight,s=t.height&&t.top<=window.innerHeight-i&&t.top>0,g=t.width&&t.right>=o&&t.right<=window.innerWidth,n=t.width&&t.left<=window.innerWidth-o&&t.left>0;return(r||s)&&(g||n)},getScaleToFit(t={},e={}){if(!e.width&&!e.height)return 0;let i=t.width/t.height;return(e.width||1/0)/(e.height||1/0)>i?(e.height||1/0)/t.height:(e.width||1/0)/t.width},incrementCircular(t,e){return t%e+1<=e?t%e+1:1},decrementCircular(t,e){return t>1?t-1:e},calculateResizedShapeBox(t,e,{height:i,width:o}){let{angle:r}=t,s,g,n={height:0,width:0,left:0,top:0};return(e.deltaX>0||e.deltaY<0)&&(s=t.left+Math.abs(e.deltaX||e.deltaY)/2,g=t.top-Math.abs(e.deltaX||e.deltaY)/2),(e.deltaX<0||e.deltaY>0)&&(s=t.left-Math.abs(e.deltaX||e.deltaY)/2,g=t.top+Math.abs(e.deltaX||e.deltaY)/2),r!==0&&r!==180?(n.height=i+e.deltaX,n.width=o+e.deltaY,n.left=s,n.top=g):(n.height=i+e.deltaY,n.width=o+e.deltaX,n.left=t.left,n.top=t.top),{...t,...n}}},ut=d});var Pt,St,bt,Ct,Tt,Rt,Mt,Bt,kt,Ot,Dt,Q=f(()=>{"use strict";j();Pt=t=>t.type==="slideshow",St=t=>t.type==="hotspot",bt=t=>t.type==="text",Ct=t=>t.type==="background",Tt=t=>t.type==="shape",Rt=t=>t.type==="iframe",Mt=t=>t.type==="button",Bt=t=>t.type==="form",kt=t=>t.type==="rmheader",Ot=t=>t.type==="rmfooter",Dt=t=>t.type==="ecommercecart"});export{ut as a,K as b,pt as c,at as d,E as e,m as f,V as g,A as h,_ as i,z as j,J as k,Pt as l,St as m,bt as n,Ct as o,Tt as p,Rt as q,Mt as r,Bt as s,kt as t,Ot as u,Dt as v,Q as w};
